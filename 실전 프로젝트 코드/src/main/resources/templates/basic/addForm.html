<!DOCTYPE HTML>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="utf-8">
    <link href="../css/bootstrap.min.css" th:href="@{/css/bootstrap.min.css}" rel="stylesheet">
    <style>
        .container {
            max-width: 560px;
         }
    </style>
</head>

<!-- 타임리프는 그냥 JSP 처럼 서버템플릿 페이지일 뿐! 만약에 자바스크립트에서 템플릿 태그 편하게 가져오고 싶으면
JQuery를 별도로 설치해서 사용해야 한다! 아니면 아래처럼 바닐라스크립트로 작업해야함. -->
<script type="text/javascript">

    function fnSubmit() {
        const itemName = document.getElementById("itemName").value;
        const price    = document.getElementById("price").value;
        const quantity = document.getElementById("quantity").value;

        if (isNull(itemName) || isNull(price) || isNull(quantity)) {
            alert("빈칸");
        } else {
            document.getElementById("form").submit();
        }
    }

    function isNull(val) {

        let flag = true;
        if (val != null) {
            flag = false;
            if (typeof val == "string" && val == "") {
                flag = true;
            }
        }
        console.log(val);
        return flag;
    }

</script>

<body>
<div class="container">
    <div class="py-5 text-center">
        <h2>상품 등록 폼</h2>
    </div>
    <h4 class="mb-3">상품 입력</h4>
    <!-- th:action 만 지정하면 이 폼을 가져올 때 서버에 요청한 URL과 동일한 URL로 알아서 세팅해줌
        별도로 지정하고 싶으면 th:action="@{}" 이렇게 url 경로 지정해 주면 됨
    -->
    <form id="form" method="post" th:action>
        <div>
            <label for="itemName">상품명</label>
            <input type="text" id="itemName" name="itemName" class="form-control" placeholder="이름을 입력하세요">
        </div>
        <div>
            <label for="price">가격</label>
            <input type="text" id="price" name="price" class="form-control" placeholder="가격을 입력하세요">
        </div>
        <div>
            <label for="quantity">수량</label>
            <input type="text" id="quantity" name="quantity" class="form-control" placeholder="수량을 입력하세요">
        </div>
        <hr class="my-4">
        <div class="row">
            <div class="col">
                <button class="w-100 btn btn-primary btn-lg" type="button" th:onclick="fnSubmit()">상품 등록</button>
            </div>
            <div class="col">
                <button class="w-100 btn btn-secondary btn-lg" th:onclick="|location.href='@{/basic/items}'|" type="button">취소</button>
            </div>
        </div>
    </form>
</div> <!-- /container -->
</body>
</html>